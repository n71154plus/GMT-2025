<Window x:Class="GMT_2025.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GMT_2025"
        xmlns:ctrl="clr-namespace:GMT_2025.Controls"
        xmlns:vm="clr-namespace:GMT_2025.ViewModels"
        mc:Ignorable="d"
        Icon="pack://application:,,,/Resources/favicon.ico"
        Title="GMT 2025" Height="432" Width="768"
        FontFamily="Consolas" FontSize="12"
        WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <vm:ProductsViewModel />
    </Window.DataContext>

    <DockPanel>
        <Menu DockPanel.Dock="Top" ItemsSource="{Binding MenuItems}">
            <Menu.ItemContainerStyle>
                <Style TargetType="MenuItem">
                    <Setter Property="Header" Value="{Binding Header}" />
                    <Setter Property="Command" Value="{Binding Command}" />
                </Style>
            </Menu.ItemContainerStyle>
            <Menu.Resources>
                <HierarchicalDataTemplate DataType="{x:Type vm:MenuItemViewModel}" ItemsSource="{Binding Children}">
                    <TextBlock Text="{Binding Header}" />
                </HierarchicalDataTemplate>
            </Menu.Resources>
        </Menu>

        <ctrl:GroupedGrid
            ItemClickCommand="{Binding OpenProductWindowCommand }"
            GroupBy="Type"
            ItemsSource="{Binding ProductItems}" />
    </DockPanel>
</Window>
